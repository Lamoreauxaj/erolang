<!DOCTYPE html>
<html>
<head>
    <title>Ero</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.min.js"></script>
    <style>
        .logo {
            margin-left: 20px;
        }
        .content {
            margin-top: 20px;
        }
        .editor {
            font-family: monospace;
            min-height: 370px;
        }
        .editor-title, .output-title {
            margin-left: 20px;
        }
        .editor-card, .output-card {
            min-height: 500px;
        }
    </style>
</head>
<body>
    <div id="root">
        <nav class="teal lighten-3">
            <div id="nav-wrapper">
                <a href="#" class="brand-logo logo">Ero</a>
            </div>
        </nav>
        <div class="container content">
            <div class="row">
                <div class="col s6">
                    <div class="card editor-card">
                        <span class="card-title editor-title">Editor</span>
                        <div class="card-content">
                            <textarea v-model="code" class="editor" name="editor" id="" cols="30" rows="100"></textarea>
                            <button class="btn" @click="onRun">Run</button>
                        </div>
                    </div>
                </div>
                <div class="col s6">
                    <div class="card output-card">
                        <span class="card-title output-title">Output</span>
                        <div class="card-content">
                            <pre>{{ output }}</pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        new Vue({
            el: '#root',
            data: {
                code: 'a = b = 1.0 + 2.0 + 1.2\nb = b + 0.5\nwrite(a)\nwrite(b)\n',
                output: ''
            },
            methods: {
                onRun() {
                    axios.post('/api/run', {
                        code: this.code
                    })
                    .then((res) => {
                        this.output = res.data
                    })
                }
            }
        })
    </script>
</body>
</html>